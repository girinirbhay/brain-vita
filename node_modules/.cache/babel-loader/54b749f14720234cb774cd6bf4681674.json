{"ast":null,"code":"var _jsxFileName = \"D:\\\\React\\\\brain-vita\\\\src\\\\components\\\\Game\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport './style.css';\nimport Box from '../Box';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst board = [['', '', '0', '0', '0', '', ''], ['', '', '0', '0', '0', '', ''], ['0', '0', '0', '0', '0', '0', '0'], ['0', '0', '0', '', '0', '0', '0'], ['0', '0', '0', '0', '0', '0', '0'], ['', '', '0', '0', '0', '', ''], ['', '', '0', '0', '0', '', '']];\n\nfunction Game() {\n  _s();\n\n  const [boardState, setBoardState] = useState(board);\n  const [dragPosition, setDragPosition] = useState({}); //console.log()\n\n  function onStartDrag(rIndex, cIndex) {\n    //console.log('drag')\n    setDragPosition({\n      r: rIndex,\n      c: cIndex\n    });\n  }\n\n  function allowDrop(e) {\n    e.preventDefault();\n  }\n\n  function onStopDrag(rIndex, cIndex) {\n    const newBoardState = [...boardState]; //console.log('drop')\n\n    if (dragPosition.r) newBoardState[dragPosition.r][dragPosition.c] = '';\n    newBoardState[rIndex][cIndex] = '0';\n    setBoardState(newBoardState); //console.log('Finish');\n  }\n\n  console.log('render');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"game\",\n    children: boardState.map(function (row, rowIndex) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: row.map(function (cell, cellIndex) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            onDragOver: allowDrop,\n            onDrop: () => onStopDrag(rowIndex, cellIndex),\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              onStart: () => onStartDrag(rowIndex, cellIndex),\n              row: rowIndex,\n              col: cellIndex,\n              currentVal: cell\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 21\n            }, this)\n          }, `${rowIndex}${cellIndex}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 28\n          }, this);\n        })\n      }, rowIndex, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 20\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 12\n  }, this);\n}\n\n_s(Game, \"b7agM7p2LObjg7Xa5A8tQzJGbS8=\");\n\n_c = Game;\nexport default Game;\n\nvar _c;\n\n$RefreshReg$(_c, \"Game\");","map":{"version":3,"sources":["D:/React/brain-vita/src/components/Game/index.js"],"names":["React","useState","Box","board","Game","boardState","setBoardState","dragPosition","setDragPosition","onStartDrag","rIndex","cIndex","r","c","allowDrop","e","preventDefault","onStopDrag","newBoardState","console","log","map","row","rowIndex","cell","cellIndex"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAO,aAAP;AACA,OAAOC,GAAP,MAAgB,QAAhB;;AAEA,MAAMC,KAAK,GAAG,CAAC,CAAC,EAAD,EAAK,EAAL,EAAS,GAAT,EAAc,GAAd,EAAmB,GAAnB,EAAwB,EAAxB,EAA4B,EAA5B,CAAD,EAAkC,CAAC,EAAD,EAAK,EAAL,EAAS,GAAT,EAAc,GAAd,EAAmB,GAAnB,EAAwB,EAAxB,EAA4B,EAA5B,CAAlC,EAAmE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,CAAnE,EAAwG,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,EAAhB,EAAoB,GAApB,EAAyB,GAAzB,EAA8B,GAA9B,CAAxG,EAA4I,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,CAA5I,EAAiL,CAAC,EAAD,EAAK,EAAL,EAAS,GAAT,EAAc,GAAd,EAAmB,GAAnB,EAAwB,EAAxB,EAA4B,EAA5B,CAAjL,EAAkN,CAAC,EAAD,EAAK,EAAL,EAAS,GAAT,EAAc,GAAd,EAAmB,GAAnB,EAAwB,EAAxB,EAA4B,EAA5B,CAAlN,CAAd;;AAEA,SAASC,IAAT,GAAgB;AAAA;;AAEZ,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BL,QAAQ,CAACE,KAAD,CAA5C;AACA,QAAM,CAACI,YAAD,EAAeC,eAAf,IAAkCP,QAAQ,CAAC,EAAD,CAAhD,CAHY,CAKZ;;AAEA,WAASQ,WAAT,CAAqBC,MAArB,EAA6BC,MAA7B,EAAqC;AACjC;AACAH,IAAAA,eAAe,CAAC;AAAEI,MAAAA,CAAC,EAAEF,MAAL;AAAaG,MAAAA,CAAC,EAAEF;AAAhB,KAAD,CAAf;AACH;;AAED,WAASG,SAAT,CAAmBC,CAAnB,EAAqB;AAEjBA,IAAAA,CAAC,CAACC,cAAF;AACH;;AAED,WAASC,UAAT,CAAoBP,MAApB,EAA4BC,MAA5B,EAAoC;AAChC,UAAMO,aAAa,GAAG,CAAC,GAAGb,UAAJ,CAAtB,CADgC,CAEhC;;AACA,QAAGE,YAAY,CAACK,CAAhB,EACAM,aAAa,CAACX,YAAY,CAACK,CAAd,CAAb,CAA8BL,YAAY,CAACM,CAA3C,IAAgD,EAAhD;AACAK,IAAAA,aAAa,CAACR,MAAD,CAAb,CAAsBC,MAAtB,IAAgC,GAAhC;AACAL,IAAAA,aAAa,CAACY,aAAD,CAAb,CANgC,CAOhC;AACH;;AAEDC,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA,sBAAO;AAAK,IAAA,EAAE,EAAC,MAAR;AAAA,cACFf,UAAU,CAACgB,GAAX,CAAe,UAAUC,GAAV,EAAeC,QAAf,EAAyB;AACrC,0BAAO;AAAoB,QAAA,SAAS,EAAC,KAA9B;AAAA,kBACFD,GAAG,CAACD,GAAJ,CAAQ,UAAUG,IAAV,EAAgBC,SAAhB,EAA2B;AAChC,8BAAO;AAAqC,YAAA,UAAU,EAAEX,SAAjD;AAA6D,YAAA,MAAM,EAAE,MAAMG,UAAU,CAACM,QAAD,EAAWE,SAAX,CAArF;AAAA,mCACP,QAAC,GAAD;AACI,cAAA,OAAO,EAAE,MAAMhB,WAAW,CAACc,QAAD,EAAWE,SAAX,CAD9B;AAEI,cAAA,GAAG,EAAEF,QAFT;AAEmB,cAAA,GAAG,EAAEE,SAFxB;AAEmC,cAAA,UAAU,EAAED;AAF/C;AAAA;AAAA;AAAA;AAAA;AADO,aAAW,GAAED,QAAS,GAAEE,SAAU,EAAlC;AAAA;AAAA;AAAA;AAAA,kBAAP;AAKH,SANA;AADE,SAAUF,QAAV;AAAA;AAAA;AAAA;AAAA,cAAP;AASH,KAVA;AADE;AAAA;AAAA;AAAA;AAAA,UAAP;AAaH;;GAzCQnB,I;;KAAAA,I;AA2CT,eAAeA,IAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport './style.css'\r\nimport Box from '../Box'\r\n\r\nconst board = [['', '', '0', '0', '0', '', ''], ['', '', '0', '0', '0', '', ''], ['0', '0', '0', '0', '0', '0', '0'], ['0', '0', '0', '', '0', '0', '0'], ['0', '0', '0', '0', '0', '0', '0'], ['', '', '0', '0', '0', '', ''], ['', '', '0', '0', '0', '', '']]\r\n\r\nfunction Game() {\r\n\r\n    const [boardState, setBoardState] = useState(board)\r\n    const [dragPosition, setDragPosition] = useState({})\r\n    \r\n    //console.log()\r\n\r\n    function onStartDrag(rIndex, cIndex) {\r\n        //console.log('drag')\r\n        setDragPosition({ r: rIndex, c: cIndex })\r\n    }\r\n\r\n    function allowDrop(e){   \r\n        \r\n        e.preventDefault()\r\n    }\r\n\r\n    function onStopDrag(rIndex, cIndex) {\r\n        const newBoardState = [...boardState]\r\n        //console.log('drop')\r\n        if(dragPosition.r )\r\n        newBoardState[dragPosition.r][dragPosition.c] = ''\r\n        newBoardState[rIndex][cIndex] = '0'\r\n        setBoardState(newBoardState);\r\n        //console.log('Finish');\r\n    }\r\n    \r\n    console.log('render')\r\n    return <div id=\"game\">\r\n        {boardState.map(function (row, rowIndex) {\r\n            return <div key={rowIndex} className=\"row\">\r\n                {row.map(function (cell, cellIndex) {\r\n                    return <div key={`${rowIndex}${cellIndex}`} onDragOver={allowDrop}  onDrop={() => onStopDrag(rowIndex, cellIndex)}>\r\n                    <Box \r\n                        onStart={() => onStartDrag(rowIndex, cellIndex)}\r\n                        row={rowIndex} col={cellIndex} currentVal={cell} />\r\n                    </div>\r\n                })}\r\n            </div>\r\n        })}\r\n    </div >\r\n}\r\n\r\nexport default Game"]},"metadata":{},"sourceType":"module"}